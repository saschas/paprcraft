function terrain_obj(){this.terrain_geometry=new THREE.PlaneGeometry(2*canvas_width,2*canvas_height,128,128),this.terrain_material=new THREE.MeshLambertMaterial({color:main_color}),this.terrain_wire_material=new THREE.MeshLambertMaterial({color:0,wireframe:!0,transparent:!0}),this.terrain_wire=null,this.generate=function(){for(var e=0;e<this.terrain_geometry.vertices.length;e++)this.terrain_geometry.vertices[e].z=20*Math.random();return this.terrain=new THREE.Mesh(this.terrain_geometry,this.terrain_material),this.terrain_top=new THREE.Mesh(this.terrain_geometry.clone(),this.terrain_material),this.terrain_wire=new THREE.Mesh(this.terrain_geometry.clone(),this.terrain_wire_material),this.terrain.rotation.x=-Math.PI/2,this.terrain.position.y=-20,this.terrain_top.rotation.x=Math.PI/2,this.terrain_top.position.y=130,this.terrain_wire.rotation.x=-Math.PI/2,this.terrain_wire.position.y=-19.9,this.terrain.receiveShadow=!0,this.terrain.castShadow=!0,scene.add(this.terrain,this.terrain_wire,this.terrain_top),this},this.generate()}function animation(){scene.rotation.y-=5e-4}var main_color=361671,canvas_height=window.innerHeight-window.innerHeight/4,canvas_width=window.innerWidth,scene=new THREE.Scene;scene.fog=new THREE.FogExp2(main_color,.0045);var camera=new THREE.PerspectiveCamera(75,canvas_width/canvas_height,.1,1e3);camera.lookAt(new THREE.Vector3(0,50,0)),camera.position.set(0,50,200);var renderer=new THREE.WebGLRenderer({alpha:!0});renderer.setSize(canvas_width,canvas_height),renderer.shadowMapEnabled=!0,renderer.shadowMapType=THREE.PCFSoftShadowMap,renderer.setClearColor(main_color,1),renderer.domElement.className="header_canvas",$("header").append(renderer.domElement),window.onresize=function(){canvas_height=window.innerHeight-window.innerHeight/4,canvas_width=window.innerWidth,camera.aspect=canvas_width/canvas_height,camera.updateProjectionMatrix(),renderer.setSize(canvas_width,canvas_height)},controls=new THREE.OrbitControls(camera),controls.damping=.2,controls.maxPolarAngle=Math.PI/2,controls.minPolarAngle=1,controls.minDistance=100,controls.maxDistance=220,controls.enabled=!1,$("canvas").on("mouseenter",function(){controls.enabled=!0}),$("canvas").on("mouseleave",function(){controls.enabled=!1});var spotLight=new THREE.SpotLight(16777215);spotLight.position.set(0,100,100),spotLight.intensity=1,spotLight.castShadow=!0,scene.add(spotLight);for(var particles=new THREE.Geometry,pMaterial=new THREE.PointCloudMaterial({color:16777215,size:1,transparent:!0,opacity:.25,map:THREE.ImageUtils.loadTexture("./js/gradient.png")}),i=0;1e4>i;i++){var x=400*(Math.random()-.5),y=400*(Math.random()-.5),z=400*(Math.random()-.5);particles.vertices.push(new THREE.Vector3(x,y,z))}var particleSystem_1=new THREE.PointCloud(particles,pMaterial);scene.add(particleSystem_1);var terrain_bottom=terrain_obj(),loader=new THREE.JSONLoader,material_options={emissive:16777215,color:0,opacity:.5},wire_material_options={wireframe:!0,wireframeLinewidth:2,color:16777215};loader.load("js/hirsch.js",function(e,t){var r=new THREE.MeshLambertMaterial(material_options),a=new THREE.MeshBasicMaterial(wire_material_options),n=new THREE.Mesh(e,r);n.scale.set(20,20,20),n.position.set(0,0,0);var i=new THREE.Mesh(e.clone(),a);i.scale.set(20.01,20.01,20.01),scene.add(n,i)});var render=function(){requestAnimationFrame(render),animation(),renderer.render(scene,camera)};render();var text_el=$(".overlay .rotate"),texttorotate=text_el.text();text_el.empty();var newtext=texttorotate.split("");newtext.forEach(function(e){text_el.append("<span>"+e+"</span>")});